<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>M7_HeatLock</name>
    <events>
        <include>GG Scores and Levels</include>
        <variable constant="0" name="M7_Difficulty" sid="854616381662170" static="0" type="number">1</variable>
        <variable constant="0" name="M7_DEBUG" sid="686712581298676" static="0" type="text"></variable>
        <variable constant="0" name="M7_Temperature" sid="176103752440200" static="0" type="number">18</variable>
        <variable constant="1" name="M7_TIME_LIMIT" sid="572441239436677" static="0" type="number">30</variable>
        <variable constant="0" name="M7_Temp_State" sid="211733738425777" static="0" type="text">normal</variable>
        <variable constant="0" name="M7_Game_State" sid="319431560021926" static="0" type="text">Game</variable>
        <event-group description="" sid="385953040015592" title="M7 Initialization">
            <sub-events>
                <event-block sid="706266292160068">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="396147156109733" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="899231024916388" type="System">
                            <param id="0" name="Variable">M7_Difficulty</param>
                            <param id="1" name="Value">GG_Difficulty</param>
                        </action>
                        <action disabled="1" id="-9" name="Set value" sid="166655347854400" type="System">
                            <param id="0" name="Variable">M7_Difficulty</param>
                            <param id="1" name="Value">2</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="670749038202606" type="System">
                            <param id="0" name="Layer">&quot;EndGame&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="0" name="Play" sid="456824832616543" type="Audio">
                            <param id="0" name="Audio file">bgm_heatlock</param>
                            <param id="2" name="Loop">1</param>
                            <param id="3" name="Volume">-17</param>
                            <param id="1" name="Tag (optional)">&quot;M7 BGM&quot;</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="362085256164725">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="408159620692511" type="System">
                                    <param id="0" name="Variable">M7_Difficulty</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="486116917097738" type="System">
                                    <param id="0" name="Variable">M7_Game_State</param>
                                    <param id="1" name="Value">&quot;Tutorial&quot;</param>
                                </action>
                                <action id="-4" name="Set layer visible" sid="266280835994830" type="System">
                                    <param id="0" name="Layer">&quot;Tutorial&quot;</param>
                                    <param id="1" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="958007939947362">
                            <conditions>
                                <condition id="-22" name="Else" sid="853175580246504" type="System" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="725435485177369" type="System">
                                    <param id="0" name="Variable">M7_Game_State</param>
                                    <param id="1" name="Value">&quot;Game&quot;</param>
                                </action>
                                <action id="-4" name="Set layer visible" sid="501960065276660" type="System">
                                    <param id="0" name="Layer">&quot;Tutorial&quot;</param>
                                    <param id="1" name="Visibility">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="268946909217045">
                            <conditions />
                            <actions>
                                <action id="0" name="Call function" sid="655973672784259" type="Function">
                                    <param id="0" name="Name">&quot;M7 Reset Values&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <variable constant="1" name="M7_STARTING_TEMPERATURE" sid="550399671741321" static="0" type="number">18</variable>
                <event-block sid="840833383961996">
                    <conditions>
                        <condition id="0" name="On function" sid="863749541679926" type="Function">
                            <param id="0" name="Name">&quot;M7 Reset Values&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="821498127887150" type="System">
                            <param id="0" name="Variable">M7_Temperature</param>
                            <param id="1" name="Value">M7_STARTING_TEMPERATURE</param>
                        </action>
                        <action id="-10" name="Set value" sid="847311232948133" type="M7_ThermostatSignal">
                            <param id="0" name="Instance variable">flag</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-group description="" sid="699075257642697" title="M7 Initialize Temperature">
                            <sub-events>
                                <event-block sid="192297878317702">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="607826438058520" type="System">
                                            <param id="0" name="Object">M7_Room</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="173017340019835" type="M7_Room">
                                            <param id="0" name="Instance variable">Temperature</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="129594061920019" title="M7 Initialize Rooms">
                            <sub-events>
                                <event-block sid="900957951852780">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="236638045197707" type="System">
                                            <param id="0" name="Object">M7_Room</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="177912802121052" type="M7_Room">
                                            <param id="0" name="Instance variable">Maxheight</param>
                                            <param id="1" name="Value">Self.Maxheight = 0 ? Self.Height : Self.Maxheight</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="109879392692079">
                                    <conditions />
                                    <actions>
                                        <action id="-10" name="Set value" sid="541853562907766" type="M7_Room0">
                                            <param id="0" name="Instance variable">Neighbours</param>
                                            <param id="1" name="Value">str(M7_Room1.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="469159908748656" type="M7_Room1">
                                            <param id="0" name="Instance variable">Neighbours</param>
                                            <param id="1" name="Value">str(M7_Room0.UID &amp; &quot; &quot; &amp; M7_Room2.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="573632347929723" type="M7_Room2">
                                            <param id="0" name="Instance variable">Neighbours</param>
                                            <param id="1" name="Value">str(M7_Room1.UID &amp; &quot; &quot; &amp; M7_Room5.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="921485946918487" type="M7_Room3">
                                            <param id="0" name="Instance variable">Neighbours</param>
                                            <param id="1" name="Value">str(M7_Room4.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="475336989790265" type="M7_Room4">
                                            <param id="0" name="Instance variable">Neighbours</param>
                                            <param id="1" name="Value">str(M7_Room3.UID &amp; &quot; &quot; &amp; M7_Room5.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="898798206290336" type="M7_Room5">
                                            <param id="0" name="Instance variable">Neighbours</param>
                                            <param id="1" name="Value">str(M7_Room2.UID &amp; &quot; &quot; &amp; M7_Room4.UID &amp; &quot; &quot; &amp; M7_Room6.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="438743310599625" type="M7_Room6">
                                            <param id="0" name="Instance variable">Neighbours</param>
                                            <param id="1" name="Value">str(M7_Room5.UID)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="666374984055682" title="M7 Initialize Doors">
                            <sub-events>
                                <event-block sid="567468262794882">
                                    <conditions />
                                    <actions>
                                        <action id="-10" name="Set value" sid="228985816112881" type="M7_Room0">
                                            <param id="0" name="Instance variable">Doors</param>
                                            <param id="1" name="Value">str(M7_Door0.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="222650314081184" type="M7_Door0">
                                            <param id="0" name="Instance variable">Rooms</param>
                                            <param id="1" name="Value">M7_Room0.UID &amp; &quot; &quot; &amp; M7_Room1.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="698211616411536" type="M7_Room1">
                                            <param id="0" name="Instance variable">Doors</param>
                                            <param id="1" name="Value">M7_Door0.UID &amp; &quot; &quot; &amp; M7_Door1.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="361589540805638" type="M7_Door1">
                                            <param id="0" name="Instance variable">Rooms</param>
                                            <param id="1" name="Value">M7_Room1.UID &amp; &quot; &quot; &amp; M7_Room2.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="874842496518485" type="M7_Room2">
                                            <param id="0" name="Instance variable">Doors</param>
                                            <param id="1" name="Value">str(M7_Door1.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="898596556022352" type="M7_Door5">
                                            <param id="0" name="Instance variable">Rooms</param>
                                            <param id="1" name="Value">M7_Room2.UID &amp; &quot; &quot; &amp; M7_Room5.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="724009584791557" type="M7_Room3">
                                            <param id="0" name="Instance variable">Doors</param>
                                            <param id="1" name="Value">str(M7_Door2.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="164216785789491" type="M7_Door2">
                                            <param id="0" name="Instance variable">Rooms</param>
                                            <param id="1" name="Value">M7_Room3.UID &amp; &quot; &quot; &amp; M7_Room4.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="548537533528566" type="M7_Room4">
                                            <param id="0" name="Instance variable">Doors</param>
                                            <param id="1" name="Value">M7_Door2.UID &amp; &quot; &quot; &amp; M7_Door3.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="508158832314142" type="M7_Door3">
                                            <param id="0" name="Instance variable">Rooms</param>
                                            <param id="1" name="Value">M7_Room4.UID &amp; &quot; &quot; &amp; M7_Room5.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="747041293790138" type="M7_Room5">
                                            <param id="0" name="Instance variable">Doors</param>
                                            <param id="1" name="Value">M7_Door3.UID &amp; &quot; &quot; &amp; M7_Door4.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="939307343792438" type="M7_Door4">
                                            <param id="0" name="Instance variable">Rooms</param>
                                            <param id="1" name="Value">M7_Room5.UID &amp; &quot; &quot; &amp; M7_Room6.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="783882446361003" type="M7_Room6">
                                            <param id="0" name="Instance variable">Doors</param>
                                            <param id="1" name="Value">str(M7_Door4.UID)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="433448421815874" title="M7 Initialize Windows">
                            <sub-events>
                                <event-block sid="829930333150586">
                                    <conditions />
                                    <actions>
                                        <action id="-10" name="Set value" sid="362018845322751" type="M7_Room0">
                                            <param id="0" name="Instance variable">Windows</param>
                                            <param id="1" name="Value">str(M7_Window0.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="707417144982359" type="M7_Room3">
                                            <param id="0" name="Instance variable">Windows</param>
                                            <param id="1" name="Value">str(M7_Window1.UID)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="706890466919475" type="M7_Room6">
                                            <param id="0" name="Instance variable">Windows</param>
                                            <param id="1" name="Value">str(M7_Window2.UID)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="143644965525720">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="810980363896646" type="System">
                                            <param id="0" name="Object">M7_Window</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="756771426444617" type="M7_Window">
                                            <param id="0" name="Animation">Self.Open = 0 ? (Self.HasSun = 0 ? &quot;Closed&quot; : &quot;ClosedSun&quot;) : (Self.HasSun = 0 ? &quot;Open&quot; : &quot;OpenSun&quot;)</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="853149883157020">
                                    <conditions />
                                    <actions>
                                        <action id="4" name="Set animation" sid="388211217098006" type="M7_Weather">
                                            <param id="0" name="Animation">Self.HasSun = 1 ? &quot;Sun&quot; : &quot;Cloud&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="109678889320093" title="M7 Initialize Vents">
                            <sub-events>
                                <event-block sid="271623441076491">
                                    <conditions />
                                    <actions>
                                        <action id="0" name="Call function" sid="916201183630170" type="Function">
                                            <param id="0" name="Name">&quot;M7 Vents Initialize&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="700672218353482" title="M7 Person Spawning">
                            <sub-events>
                                <event-block sid="432454790322653">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="140233816658464" type="System">
                                            <param id="0" name="Variable">M7_Difficulty</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Value">2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="787048523780706" type="M7_Person3" />
                                    </actions>
                                </event-block>
                                <event-block sid="753466343739636">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="547303897741957" type="System">
                                            <param id="0" name="Variable">M7_Difficulty</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="107799908383151" type="M7_Person2" />
                                    </actions>
                                </event-block>
                                <variable constant="0" name="tempval" sid="485382954874502" static="0" type="number">0</variable>
                                <event-block sid="695204180281465">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="803406688183622" type="System">
                                            <param id="0" name="Object">M7_Person</param>
                                        </condition>
                                        <condition id="-16" name="Pick random instance" sid="925867933681916" type="System">
                                            <param id="0" name="Object">M7_Room</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="170204680818069" type="M7_Person">
                                            <param id="0" name="Instance variable">ChosenRoom</param>
                                            <param id="1" name="Value">M7_Room.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="300700905452528" type="M7_Person">
                                            <param id="0" name="Instance variable">PreviousRoom</param>
                                            <param id="1" name="Value">M7_Person.ChosenRoom</param>
                                        </action>
                                        <action id="-3" name="Set position" sid="377029277269619" type="M7_Person">
                                            <param id="0" name="X">M7_Room.X</param>
                                            <param id="1" name="Y">M7_Room.Y</param>
                                        </action>
                                        <action id="4" name="Set animation" sid="499193377749848" type="M7_Person">
                                            <param id="0" name="Animation">&quot;idle&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="243806991822674" title="M7 Timer Bar Initialization">
                            <sub-events>
                                <event-block sid="343983088713407">
                                    <conditions />
                                    <actions>
                                        <action id="-10" name="Set value" sid="636335848016958" type="M7_Timer_Bar">
                                            <param id="0" name="Instance variable">TimeLeft</param>
                                            <param id="1" name="Value">M7_TIME_LIMIT</param>
                                        </action>
                                        <action id="-7" name="Set size" sid="538778559974372" type="M7_Timer_Bar">
                                            <param id="0" name="Width">Self.MaxWidth</param>
                                            <param id="1" name="Height">Self.ImageHeight</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <comment>Set Initial Temperature Text</comment>
                        <event-block sid="518810383312784">
                            <conditions />
                            <actions>
                                <action id="0" name="Set text" sid="505773650915587" type="M7_TemperatureText">
                                    <param id="0" name="Text">M7_Temperature</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-group description="" sid="899033844642183" title="M7 Stars">
                            <sub-events>
                                <event-block sid="880754812297886">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="751499539173792" type="System">
                                            <param id="0" name="Variable">M7_Difficulty</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="422785246761783" type="System">
                                            <param id="0" name="Variable">M7_Game_State</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;Game&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-15" name="Set visible" sid="396007069283462" type="M7_End_Star0">
                                            <param id="0" name="Visibility">0</param>
                                        </action>
                                        <action id="-15" name="Set visible" sid="896739776691190" type="M7_End_Star1">
                                            <param id="0" name="Visibility">0</param>
                                        </action>
                                        <action id="-15" name="Set visible" sid="101527973969331" type="M7_End_Star2">
                                            <param id="0" name="Visibility">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="313776470659499">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="255255482778914" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-15" name="Set visible" sid="693294616684791" type="M7_End_Star0">
                                            <param id="0" name="Visibility">1</param>
                                        </action>
                                        <action id="-15" name="Set visible" sid="163112728424011" type="M7_End_Star1">
                                            <param id="0" name="Visibility">1</param>
                                        </action>
                                        <action id="-15" name="Set visible" sid="996997532171602" type="M7_End_Star2">
                                            <param id="0" name="Visibility">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="401658813913275" title="M7 Tutorial">
            <sub-events>
                <event-block sid="589509423577316">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="989495756481535" type="System">
                            <param id="0" name="Variable">M7_Game_State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Tutorial&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="M7_Tutorial_Progress" sid="549468618062526" static="1" type="number">0</variable>
                        <variable constant="0" name="M7_Tutorial_State" sid="324166748619553" static="1" type="text">waiting</variable>
                        <variable constant="0" name="M7_Tutorial_Animation_Progress" sid="418224455361059" static="1" type="number">0</variable>
                        <variable constant="1" name="M7_TUTORIAL_ANIMATION_DURATION" sid="131343188386897" static="0" type="number">3</variable>
                        <event-group description="" sid="499485535411609" title="M7 Tutorial Initialize">
                            <sub-events>
                                <event-block sid="249573126932910">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="601473224196664" type="System">
                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="703447382916417" type="M7_Person1">
                                            <param id="0" name="Instance variable">ChosenRoom</param>
                                            <param id="1" name="Value">M7_Room0.UID</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="735001970996438" type="M7_Person1">
                                            <param id="0" name="Instance variable">PreviousRoom</param>
                                            <param id="1" name="Value">M7_Person.ChosenRoom</param>
                                        </action>
                                        <action id="-3" name="Set position" sid="970265730345890" type="M7_Person1">
                                            <param id="0" name="X">M7_Room0.X</param>
                                            <param id="1" name="Y">M7_Room0.Y</param>
                                        </action>
                                        <action id="9" name="Set scale" sid="936703001494063" type="M7_Tutorial_Highlight">
                                            <param id="0" name="Scale">1</param>
                                        </action>
                                        <action id="-3" name="Set position" sid="843415204682102" type="M7_Tutorial_Highlight">
                                            <param id="0" name="X">M7_Person1.X</param>
                                            <param id="1" name="Y">M7_Person1.Y - 100</param>
                                        </action>
                                        <action id="4" name="Set animation" sid="345748203907810" type="M7_Tutorial_Highlight">
                                            <param id="0" name="Animation">&quot;click_anywhere&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action id="0" name="Set text" sid="961458954715973" type="M7_Tutorial_Instructions">
                                            <param id="0" name="Text">&quot;Keep the people warm&quot;</param>
                                        </action>
                                        <action id="0" name="Set text" sid="698957320641217" type="M7_Tutorial_Prompt">
                                            <param id="0" name="Text">&quot;Tap anywhere to continue&quot;</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="862224550674965" type="System">
                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                            <param id="1" name="Value">M7_Tutorial_Progress + 0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="281663982166377" type="System">
                                            <param id="0" name="Variable">M7_Tutorial_Animation_Progress</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <comment>Preparation for the Animations</comment>
                                        <event-block sid="562858500088990">
                                            <conditions />
                                            <actions>
                                                <action id="-9" name="Destroy" sid="304620617949571" type="M7_Person3" />
                                                <action id="-9" name="Destroy" sid="414701240314020" type="M7_Person2" />
                                                <action id="-10" name="Set value" sid="389694850564253" type="M7_Room0">
                                                    <param id="0" name="Instance variable">Temperature</param>
                                                    <param id="1" name="Value">0.5</param>
                                                </action>
                                                <action id="0" name="Call function" sid="794380351873362" type="Function">
                                                    <param id="0" name="Name">&quot;M7 Windows Weather Change&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="769332729266142" title="M7 Tutorial Animation">
                            <sub-events>
                                <event-block sid="117345074449533">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="236096382836229" type="System">
                                            <param id="0" name="Variable">M7_Tutorial_State</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;anim&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-4" name="Set layer visible" sid="100710024056408" type="System">
                                            <param id="0" name="Layer">&quot;Tutorial&quot;</param>
                                            <param id="1" name="Visibility">0</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="307247201025712">
                                            <conditions>
                                                <condition id="-21" name="Is between values" sid="101148833156581" type="System">
                                                    <param id="0" name="Value">M7_Tutorial_Animation_Progress</param>
                                                    <param id="1" name="Lower bound">0</param>
                                                    <param id="2" name="Upper bound">M7_TUTORIAL_ANIMATION_DURATION</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="110310393908859" type="System">
                                                    <param id="0" name="Variable">M7_Tutorial_Animation_Progress</param>
                                                    <param id="1" name="Value">M7_Tutorial_Animation_Progress + dt</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <comment>Cold</comment>
                                                <event-block sid="115463359235587">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="799642939218878" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">2</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Set value" sid="354169302742832" type="M7_Room0">
                                                            <param id="0" name="Instance variable">Temperature</param>
                                                            <param id="1" name="Value">Self.Temperature - 0.4 * dt</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <event-block sid="137341512551960">
                                                            <conditions />
                                                            <actions />
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <comment>Door</comment>
                                                <event-block sid="859377498610909">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="215718186815343" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">3</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="831793645717182">
                                                            <conditions>
                                                                <condition id="-14" name="Compare variable" sid="796111544425327" type="System">
                                                                    <param id="0" name="Variable">M7_Tutorial_Animation_Progress</param>
                                                                    <param id="1" name="Comparison">5</param>
                                                                    <param id="2" name="Value">0.3</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions />
                                                            <sub-events>
                                                                <event-block sid="343891428088699">
                                                                    <conditions>
                                                                        <condition id="-7" name="Compare instance variable" sid="281838129903160" type="M7_Door0">
                                                                            <param id="0" name="Instance variable">Open</param>
                                                                            <param id="1" name="Comparison">0</param>
                                                                            <param id="2" name="Value">0</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="0" name="Call function" sid="670705624354352" type="Function">
                                                                            <param id="0" name="Name">&quot;M7 Door Open Close&quot;</param>
                                                                            <param id="1" name="Parameter {n}">M7_Door0.UID</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="542509445415243">
                                                                    <conditions>
                                                                        <condition id="-22" name="Else" sid="659723898429268" type="System" />
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="476722478557578" type="M7_Room0">
                                                                            <param id="0" name="Instance variable">Temperature</param>
                                                                            <param id="1" name="Value">Self.Temperature + 0.2 * dt</param>
                                                                        </action>
                                                                        <action disabled="1" id="-10" name="Set value" sid="945251870725505" type="M7_Room1">
                                                                            <param id="0" name="Instance variable">Temperature</param>
                                                                            <param id="1" name="Value">Self.Temperature - 0.3 * dt</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <comment>Sun Window</comment>
                                                <event-block sid="679037947989753">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="391495968657415" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">4</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="268917416693437">
                                                            <conditions>
                                                                <condition id="-21" name="Is between values" sid="142903911560828" type="System">
                                                                    <param id="0" name="Value">M7_Tutorial_Animation_Progress</param>
                                                                    <param id="1" name="Lower bound">0.3</param>
                                                                    <param id="2" name="Upper bound">2.3</param>
                                                                </condition>
                                                                <condition id="-7" name="Compare instance variable" sid="529100042095460" type="M7_Window0">
                                                                    <param id="0" name="Instance variable">Open</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">0</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Call function" sid="272894723633239" type="Function">
                                                                    <param id="0" name="Name">&quot;M7 Windows Open Close&quot;</param>
                                                                    <param id="1" name="Parameter {n}">M7_Window0.UID</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="664495760049691">
                                                            <conditions>
                                                                <condition id="-14" name="Compare variable" sid="149012157285169" type="System">
                                                                    <param id="0" name="Variable">M7_Tutorial_Animation_Progress</param>
                                                                    <param id="1" name="Comparison">4</param>
                                                                    <param id="2" name="Value">2.3</param>
                                                                </condition>
                                                                <condition id="-7" name="Compare instance variable" sid="953445745030634" type="M7_Window0">
                                                                    <param id="0" name="Instance variable">HasSun</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Call function" sid="213131828326908" type="Function">
                                                                    <param id="0" name="Name">&quot;M7 Windows Weather Change&quot;</param>
                                                                    <param id="1" name="Parameter {n}"></param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <comment>Cold WIndow</comment>
                                                <event-block sid="160490383821477">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="392155371558887" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">5</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="711144474841436">
                                                            <conditions>
                                                                <condition id="-7" name="Compare instance variable" sid="475673318030587" type="M7_Window0">
                                                                    <param id="0" name="Instance variable">Open</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">1</param>
                                                                </condition>
                                                                <condition id="-14" name="Compare variable" sid="607412461251502" type="System">
                                                                    <param id="0" name="Variable">M7_Tutorial_Animation_Progress</param>
                                                                    <param id="1" name="Comparison">5</param>
                                                                    <param id="2" name="Value">0.2</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Call function" sid="856684016794599" type="Function">
                                                                    <param id="0" name="Name">&quot;M7 Windows Open Close&quot;</param>
                                                                    <param id="1" name="Parameter {n}">M7_Window0.UID</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <comment>Cold WIndow</comment>
                                                <event-block sid="224503627659418">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="884643737995803" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">6</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="864164135357076">
                                                            <conditions>
                                                                <condition id="-14" name="Compare variable" sid="498858284617908" type="System">
                                                                    <param id="0" name="Variable">M7_Tutorial_Animation_Progress</param>
                                                                    <param id="1" name="Comparison">3</param>
                                                                    <param id="2" name="Value">0.5</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-10" name="Set value" sid="484930739478753" type="M7_Room0">
                                                                    <param id="0" name="Instance variable">Temperature</param>
                                                                    <param id="1" name="Value">Self.Temperature - 2 * (M7_TUTORIAL_ANIMATION_DURATION - 0.6) * dt</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="620746080980255">
                                                            <conditions>
                                                                <condition id="-22" name="Else" sid="105073023958244" type="System" />
                                                                <condition id="-14" name="Compare variable" sid="902245887294181" type="System">
                                                                    <param id="0" name="Variable">M7_Tutorial_Animation_Progress</param>
                                                                    <param id="1" name="Comparison">4</param>
                                                                    <param id="2" name="Value">0.5</param>
                                                                </condition>
                                                                <condition id="-14" name="Compare variable" sid="170553399093555" type="System">
                                                                    <param id="0" name="Variable">M7_Tutorial_Animation_Progress</param>
                                                                    <param id="1" name="Comparison">2</param>
                                                                    <param id="2" name="Value">M7_TUTORIAL_ANIMATION_DURATION - 0.8</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions />
                                                            <sub-events>
                                                                <event-block sid="454364593864463">
                                                                    <conditions>
                                                                        <condition id="-7" name="Compare instance variable" sid="267511821393297" type="M7_ThermostatSignal">
                                                                            <param id="0" name="Instance variable">flag</param>
                                                                            <param id="1" name="Comparison">0</param>
                                                                            <param id="2" name="Value">0</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="982475273870625" type="M7_ThermostatSignal">
                                                                            <param id="0" name="Instance variable">flag</param>
                                                                            <param id="1" name="Value">1</param>
                                                                        </action>
                                                                        <action id="-3" name="Set position" sid="224541400425139" type="M7_ThermostatSignal">
                                                                            <param id="0" name="X">M7_Person1.X</param>
                                                                            <param id="1" name="Y">M7_Person1.Y - 100</param>
                                                                        </action>
                                                                        <action id="-8" name="Set angle" sid="695828073853501" type="M7_ThermostatSignal">
                                                                            <param id="0" name="Angle">angle(Self.X, Self.Y, M7_Thermostat.X, M7_Thermostat.Y)</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="513837136773454" type="M7_ThermostatSignal">
                                                                            <param id="0" name="Instance variable">distance</param>
                                                                            <param id="1" name="Value">distance(Self.X, Self.Y, M7_Thermostat.X, M7_Thermostat.Y)</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="514626384534439" type="M7_Room0">
                                                                            <param id="0" name="Instance variable">Temperature</param>
                                                                            <param id="1" name="Value">-2</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="954541157071604">
                                                                    <conditions>
                                                                        <condition id="-22" name="Else" sid="396507245875452" type="System" />
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-23" name="Move at angle" sid="550110772100991" type="M7_ThermostatSignal">
                                                                            <param id="0" name="Angle">Self.Angle</param>
                                                                            <param id="1" name="Distance">Self.distance * dt / (M7_TUTORIAL_ANIMATION_DURATION - 0.4)</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="672425584263630" type="M7_Room0">
                                                                            <param id="0" name="Instance variable">Temperature</param>
                                                                            <param id="1" name="Value">-2</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                        <event-block sid="539249372078574">
                                                            <conditions>
                                                                <condition id="-22" name="Else" sid="262455630338762" type="System" />
                                                                <condition id="-14" name="Compare variable" sid="447078708693892" type="System">
                                                                    <param id="0" name="Variable">M7_Temperature</param>
                                                                    <param id="1" name="Comparison">2</param>
                                                                    <param id="2" name="Value">19</param>
                                                                </condition>
                                                                <condition disabled="1" id="-14" name="Compare variable" sid="742097852748706" type="System">
                                                                    <param id="0" name="Variable">M7_Tutorial_Animation_Progress</param>
                                                                    <param id="1" name="Comparison">4</param>
                                                                    <param id="2" name="Value">0.5</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-9" name="Set value" sid="842189794593382" type="System">
                                                                    <param id="0" name="Variable">M7_Temperature</param>
                                                                    <param id="1" name="Value">19</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="528415881782604" type="M7_TemperatureText">
                                                                    <param id="0" name="Text">M7_Temperature</param>
                                                                </action>
                                                                <action id="-3" name="Set position" sid="541287029813111" type="M7_ThermostatSignal">
                                                                    <param id="0" name="X">-500</param>
                                                                    <param id="1" name="Y">-500</param>
                                                                </action>
                                                                <action id="4" name="Set animation" sid="787912454297587" type="M7_End_Star2">
                                                                    <param id="0" name="Animation">&quot;Empty&quot;</param>
                                                                    <param id="1" name="From">1</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="400328992771052">
                                                            <conditions>
                                                                <condition id="-22" name="Else" sid="177087061512310" type="System" />
                                                            </conditions>
                                                            <actions>
                                                                <action id="-10" name="Set value" sid="781568650833467" type="M7_Room">
                                                                    <param id="0" name="Instance variable">Temperature</param>
                                                                    <param id="1" name="Value">Self.Temperature + dt/0.2</param>
                                                                </action>
                                                                <action id="-6" name="Set height" sid="729227262471404" type="M7_Room">
                                                                    <param id="0" name="Height">max(min((Self.Temperature - 1) * -0.5 * Self.Maxheight, Self.Maxheight),0)</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <event-group description="" sid="250838315220808" title="M7 Tutorial Temp Manage">
                                                    <sub-events>
                                                        <event-block sid="843593994062951">
                                                            <conditions>
                                                                <condition id="-14" name="Pick by unique ID" sid="605887929550189" type="M7_Door">
                                                                    <param id="0" name="Unique ID">M7_Door0.UID</param>
                                                                </condition>
                                                                <condition id="-14" name="Compare variable" sid="388738818226066" type="System">
                                                                    <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Value">6</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions />
                                                            <sub-events>
                                                                <variable constant="1" name="M7_DOOR_OPEN_PERCENT_PER_SECOND" sid="382726612981418" static="0" type="number">0.3</variable>
                                                                <variable constant="1" name="M7_DOOR_CLOSED_PERCENT_PER_SECOND" sid="708013532132995" static="0" type="number">0.1</variable>
                                                                <variable constant="0" name="M7_Temp_Room_0" sid="567316391445738" static="0" type="number">0</variable>
                                                                <variable constant="0" name="M7_Temp_Room_1" sid="234009264321206" static="0" type="number">0</variable>
                                                                <event-block sid="686755794745361">
                                                                    <conditions>
                                                                        <condition id="-14" name="Pick by unique ID" sid="954284510873535" type="M7_Room">
                                                                            <param id="0" name="Unique ID">int(tokenat(M7_Door.Rooms, 0, &quot; &quot;))</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-9" name="Set value" sid="857365412822000" type="System">
                                                                            <param id="0" name="Variable">M7_Temp_Room_0</param>
                                                                            <param id="1" name="Value">M7_Room.OldTemperature</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="804941833513517">
                                                                    <conditions>
                                                                        <condition id="-14" name="Pick by unique ID" sid="422106132871374" type="M7_Room">
                                                                            <param id="0" name="Unique ID">int(tokenat(M7_Door.Rooms, 1, &quot; &quot;))</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-9" name="Set value" sid="714953341173321" type="System">
                                                                            <param id="0" name="Variable">M7_Temp_Room_1</param>
                                                                            <param id="1" name="Value">M7_Room.OldTemperature</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <variable constant="0" name="M7_Temp_Difference" sid="660602735959740" static="0" type="number">0</variable>
                                                                <event-block sid="289114499058629">
                                                                    <conditions />
                                                                    <actions>
                                                                        <action id="-9" name="Set value" sid="396335315310120" type="System">
                                                                            <param id="0" name="Variable">M7_Temp_Difference</param>
                                                                            <param id="1" name="Value">M7_Temp_Room_1 - M7_Temp_Room_0</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="805901434777642">
                                                                    <conditions>
                                                                        <condition id="-14" name="Pick by unique ID" sid="627876993445564" type="M7_Room">
                                                                            <param id="0" name="Unique ID">int(tokenat(M7_Door.Rooms, 0, &quot; &quot;))</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="691014414135785" type="M7_Room">
                                                                            <param id="0" name="Instance variable">Temperature</param>
                                                                            <param id="1" name="Value">Self.Temperature + (M7_Door.Open ? M7_DOOR_OPEN_PERCENT_PER_SECOND : M7_DOOR_CLOSED_PERCENT_PER_SECOND) * M7_Temp_Difference * dt</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="382714788555995">
                                                                    <conditions>
                                                                        <condition id="-14" name="Pick by unique ID" sid="821856389157292" type="M7_Room">
                                                                            <param id="0" name="Unique ID">int(tokenat(M7_Door.Rooms, 1, &quot; &quot;))</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="148276446185872" type="M7_Room">
                                                                            <param id="0" name="Instance variable">Temperature</param>
                                                                            <param id="1" name="Value">Self.Temperature - (M7_Door.Open ? M7_DOOR_OPEN_PERCENT_PER_SECOND : M7_DOOR_CLOSED_PERCENT_PER_SECOND) * M7_Temp_Difference * dt</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                        <variable constant="1" name="M7_WINDOW_OPEN_CHANGE_PER_SECOND2" sid="434569289482370" static="0" type="number">-0.4</variable>
                                                        <variable constant="1" name="M7_WINDOW_OPEN_SUN_CHANGE_PER_SECOND2" sid="235499461370193" static="0" type="number">0.6</variable>
                                                        <variable constant="1" name="M7_WINDOW_CLOSED_CHANGE_PER_SECOND2" sid="293820434122615" static="0" type="number">-0.15</variable>
                                                        <variable constant="1" name="M7_WINDOW_OPEN_CHANGE_PER_SECOND" sid="219970858615892" static="0" type="number">-0.4</variable>
                                                        <variable constant="1" name="M7_WINDOW_OPEN_SUN_CHANGE_PER_SECOND" sid="625760552392861" static="0" type="number">0.6</variable>
                                                        <variable constant="1" name="M7_WINDOW_CLOSED_CHANGE_PER_SECOND" sid="717883705036988" static="0" type="number">-0.15</variable>
                                                        <event-block sid="880727163005967">
                                                            <conditions>
                                                                <condition id="-14" name="Pick by unique ID" sid="417169290942793" type="M7_Room">
                                                                    <param id="0" name="Unique ID">M7_Room0.UID</param>
                                                                </condition>
                                                                <condition id="-7" name="Compare instance variable" sid="678540504790535" type="M7_Room">
                                                                    <param id="0" name="Instance variable">Windows</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Value">&quot;&quot;</param>
                                                                </condition>
                                                                <condition id="-10" name="For" sid="992662017707111" type="System">
                                                                    <param id="0" name="Name">&quot;Every Window of Room&quot;</param>
                                                                    <param id="1" name="Start index">0</param>
                                                                    <param id="2" name="End index">tokencount(M7_Room.Windows,&quot; &quot;)</param>
                                                                </condition>
                                                                <condition id="-14" name="Pick by unique ID" sid="963866400863159" type="M7_Window">
                                                                    <param id="0" name="Unique ID">int(tokenat(M7_Room.Windows, loopindex(&quot;Every Window of Room&quot;), &quot; &quot;))</param>
                                                                </condition>
                                                                <condition id="-14" name="Compare variable" sid="880679774310259" type="System">
                                                                    <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Value">6</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions />
                                                            <sub-events>
                                                                <event-block sid="633595656712127">
                                                                    <conditions>
                                                                        <condition id="-7" name="Compare instance variable" sid="213415185626417" type="M7_Window">
                                                                            <param id="0" name="Instance variable">Open</param>
                                                                            <param id="1" name="Comparison">0</param>
                                                                            <param id="2" name="Value">1</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="541393647809599" type="M7_Room">
                                                                            <param id="0" name="Instance variable">Temperature</param>
                                                                            <param id="1" name="Value">Self.Temperature + (M7_Window.HasSun = 1 ?  M7_WINDOW_OPEN_SUN_CHANGE_PER_SECOND:M7_WINDOW_OPEN_CHANGE_PER_SECOND ) * dt</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="478104701653942">
                                                                    <conditions>
                                                                        <condition id="-7" name="Compare instance variable" sid="942161563423394" type="M7_Window">
                                                                            <param id="0" name="Instance variable">Open</param>
                                                                            <param id="1" name="Comparison">0</param>
                                                                            <param id="2" name="Value">0</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="741705715211251" type="M7_Room">
                                                                            <param id="0" name="Instance variable">Temperature</param>
                                                                            <param id="1" name="Value">Self.Temperature + M7_WINDOW_CLOSED_CHANGE_PER_SECOND * dt</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                        <event-block sid="739005223991258">
                                                            <conditions>
                                                                <condition id="-11" name="For Each" sid="712556643636044" type="System">
                                                                    <param id="0" name="Object">M7_Room</param>
                                                                </condition>
                                                                <condition id="-14" name="Compare variable" sid="401810194272435" type="System">
                                                                    <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Value">6</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-10" name="Set value" sid="932393876827226" type="M7_Room">
                                                                    <param id="0" name="Instance variable">Temperature</param>
                                                                    <param id="1" name="Value">max(min(Self.Temperature, 2), -1.5)</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="201938635926223" type="M7_Room">
                                                                    <param id="0" name="Instance variable">OldTemperature</param>
                                                                    <param id="1" name="Value">Self.Temperature</param>
                                                                </action>
                                                                <action id="-6" name="Set height" sid="367926432698853" type="M7_Room">
                                                                    <param id="0" name="Height">max(min((Self.Temperature - 1) * -0.5 * Self.Maxheight, Self.Maxheight),0)</param>
                                                                </action>
                                                            </actions>
                                                            <sub-events>
                                                                <event-block sid="518868440207887">
                                                                    <conditions>
                                                                        <condition id="-7" name="Compare instance variable" sid="452266259507019" type="M7_Room">
                                                                            <param id="0" name="Instance variable">Temperature</param>
                                                                            <param id="1" name="Comparison">3</param>
                                                                            <param id="2" name="Value">-1</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="4" name="Set animation" sid="665614438117126" type="M7_Room">
                                                                            <param id="0" name="Animation">&quot;Freezing&quot;</param>
                                                                            <param id="1" name="From">1</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="558778538071981">
                                                                    <conditions>
                                                                        <condition id="-22" name="Else" sid="978648783282539" type="System" />
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="4" name="Set animation" sid="186745832142770" type="M7_Room">
                                                                            <param id="0" name="Animation">&quot;Default&quot;</param>
                                                                            <param id="1" name="From">1</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                    </sub-events>
                                                </event-group>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="519378596263925">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="393519632202866" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="423802912577036" type="System">
                                                    <param id="0" name="Variable">M7_Tutorial_State</param>
                                                    <param id="1" name="Value">&quot;waiting&quot;</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="554816289571023" type="System">
                                                    <param id="0" name="Variable">M7_Tutorial_Animation_Progress</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                                <action id="-3" name="Set position" sid="336134099429412" type="M7_ThermostatSignal">
                                                    <param id="0" name="X">-300</param>
                                                    <param id="1" name="Y">-300</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="285218043001191" title="M7 Tutorial Interactions">
                            <sub-events>
                                <event-block sid="913395801053383">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="500396744905444" type="System">
                                            <param id="0" name="Variable">M7_Tutorial_State</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;waiting&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-4" name="Set layer visible" sid="928401110187917" type="System">
                                            <param id="0" name="Layer">&quot;Tutorial&quot;</param>
                                            <param id="1" name="Visibility">1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="342448811667405">
                                            <conditions>
                                                <condition id="17" name="On tap object" sid="927472128282223" type="Touch">
                                                    <param id="0" name="Object">M7_Tutorial_Highlight</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="445028389268552">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="909444175885825" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">0.5</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-9" name="Set value" sid="468797990047889" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Value">M7_Tutorial_Progress + 0.5</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <comment>Next part&apos;s layout</comment>
                                                        <event-block sid="833470071978055">
                                                            <conditions />
                                                            <actions>
                                                                <action id="4" name="Set animation" sid="881972367843858" type="M7_Tutorial_Highlight">
                                                                    <param id="0" name="Animation">&quot;click_anywhere&quot;</param>
                                                                    <param id="1" name="From">1</param>
                                                                </action>
                                                                <action id="-3" name="Set position" sid="642632805507589" type="M7_Tutorial_Highlight">
                                                                    <param id="0" name="X">M7_Person1.X</param>
                                                                    <param id="1" name="Y">M7_Person1.Y - 100</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="316126146232943" type="M7_Tutorial_Instructions">
                                                                    <param id="0" name="Text">&quot;The colder the room is, the more blue it becomes&quot;</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="185654864923093" type="M7_Tutorial_Prompt">
                                                                    <param id="0" name="Text">&quot;Tap anywhere to continue&quot;</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <event-block sid="740480514478333">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="176339368653735" type="System" />
                                                        <condition id="-14" name="Compare variable" sid="497436873044033" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">1</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-9" name="Set value" sid="528732925077113" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Value">M7_Tutorial_Progress + 1</param>
                                                        </action>
                                                        <action id="-9" name="Set value" sid="631522193506722" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_State</param>
                                                            <param id="1" name="Value">&quot;anim&quot;</param>
                                                        </action>
                                                        <action id="4" name="Set animation" sid="619453368272162" type="M7_Tutorial_Highlight">
                                                            <param id="0" name="Animation">&quot;click_spotlight&quot;</param>
                                                            <param id="1" name="From">1</param>
                                                        </action>
                                                        <action id="-3" name="Set position" sid="132255306324882" type="M7_Tutorial_Highlight">
                                                            <param id="0" name="X">M7_Door0.X</param>
                                                            <param id="1" name="Y">M7_Door0.Y</param>
                                                        </action>
                                                        <action id="0" name="Set text" sid="820620273332262" type="M7_Tutorial_Instructions">
                                                            <param id="0" name="Text">&quot;Doors control the flow of heat&quot;</param>
                                                        </action>
                                                        <action id="0" name="Set text" sid="382150874288531" type="M7_Tutorial_Prompt">
                                                            <param id="0" name="Text">&quot;Tap the door to open it&quot;</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="780639581618405">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="533123201464823" type="System" />
                                                        <condition id="-14" name="Compare variable" sid="514274085607067" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">2</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-9" name="Set value" sid="321425015185015" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Value">M7_Tutorial_Progress + 1</param>
                                                        </action>
                                                        <action id="-9" name="Set value" sid="261397835577392" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_State</param>
                                                            <param id="1" name="Value">&quot;anim&quot;</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <comment>Next part&apos;s layout</comment>
                                                        <event-block sid="885711936481021">
                                                            <conditions />
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="594162726171990" type="M7_Tutorial_Highlight">
                                                                    <param id="0" name="X">M7_Window0.X</param>
                                                                    <param id="1" name="Y">M7_Window0.Y</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="985744926675800" type="M7_Tutorial_Instructions">
                                                                    <param id="0" name="Text">&quot;Open blinds in sunny weather can warm up the room&quot;</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="374897618486673" type="M7_Tutorial_Prompt">
                                                                    <param id="0" name="Text">&quot;Tap the blinds to open it and warm the room&quot;</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <event-block sid="949736170912059">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="928960327042242" type="System" />
                                                        <condition id="-14" name="Compare variable" sid="407948712153838" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">3</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-9" name="Set value" sid="348862677237064" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Value">M7_Tutorial_Progress + 1</param>
                                                        </action>
                                                        <action id="-9" name="Set value" sid="432758841803483" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_State</param>
                                                            <param id="1" name="Value">&quot;anim&quot;</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <comment>Next part&apos;s layout</comment>
                                                        <event-block sid="986361569083915">
                                                            <conditions />
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="696131859358151" type="M7_Tutorial_Highlight">
                                                                    <param id="0" name="X">M7_Window0.X</param>
                                                                    <param id="1" name="Y">M7_Window0.Y</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="809114681208125" type="M7_Tutorial_Instructions">
                                                                    <param id="0" name="Text">&quot;But if the weather is cloudy, heat will escape&quot;</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="331983656450067" type="M7_Tutorial_Prompt">
                                                                    <param id="0" name="Text">&quot;Tap the blinds again to close it and retain heat&quot;</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <event-block sid="728730540217848">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="721387956966067" type="System" />
                                                        <condition id="-14" name="Compare variable" sid="809118596744417" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">4</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-9" name="Set value" sid="107061572163137" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Value">M7_Tutorial_Progress + 1</param>
                                                        </action>
                                                        <action id="-9" name="Set value" sid="996398219583615" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_State</param>
                                                            <param id="1" name="Value">&quot;anim&quot;</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <comment>Next Part&apos;s Layout</comment>
                                                        <event-block sid="434394973796645">
                                                            <conditions />
                                                            <actions>
                                                                <action id="9" name="Set scale" sid="955866220169187" type="M7_Tutorial_Highlight">
                                                                    <param id="0" name="Scale">1.5</param>
                                                                </action>
                                                                <action id="4" name="Set animation" sid="904482207065835" type="M7_Tutorial_Highlight">
                                                                    <param id="0" name="Animation">&quot;click_anywhere&quot;</param>
                                                                    <param id="1" name="From">1</param>
                                                                </action>
                                                                <action id="-3" name="Set position" sid="435778367686380" type="M7_Tutorial_Highlight">
                                                                    <param id="0" name="X">266</param>
                                                                    <param id="1" name="Y">167</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="748183111861157" type="M7_Tutorial_Instructions">
                                                                    <param id="0" name="Text">&quot;If a person is too cold, they will raise the heat and use more energy&quot;</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="427660511365790" type="M7_Tutorial_Prompt">
                                                                    <param id="0" name="Text">&quot;Tap anywhere to continue&quot;</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <event-block sid="764945646039792">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="885812793677101" type="System" />
                                                        <condition id="-14" name="Compare variable" sid="879475290619542" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">5</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-9" name="Set value" sid="603942096176546" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Value">M7_Tutorial_Progress + 1</param>
                                                        </action>
                                                        <action id="-9" name="Set value" sid="452489218715199" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_State</param>
                                                            <param id="1" name="Value">&quot;anim&quot;</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <comment>Next Part&apos;s Layout</comment>
                                                        <event-block sid="432583779698024">
                                                            <conditions />
                                                            <actions>
                                                                <action id="9" name="Set scale" sid="864355433991738" type="M7_Tutorial_Highlight">
                                                                    <param id="0" name="Scale">1.5</param>
                                                                </action>
                                                                <action id="4" name="Set animation" sid="634386111298417" type="M7_Tutorial_Highlight">
                                                                    <param id="0" name="Animation">&quot;click_begin_prompt&quot;</param>
                                                                    <param id="1" name="From">1</param>
                                                                </action>
                                                                <action id="-3" name="Set position" sid="211572091342137" type="M7_Tutorial_Highlight">
                                                                    <param id="0" name="X">0</param>
                                                                    <param id="1" name="Y">0</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="237318624745401" type="M7_Tutorial_Instructions">
                                                                    <param id="0" name="Text">&quot;Save energy by making sure the people do not have to increase the heat&quot;</param>
                                                                </action>
                                                                <action id="0" name="Set text" sid="668706048366647" type="M7_Tutorial_Prompt">
                                                                    <param id="0" name="Text">&quot;Tap anywhere to begin&quot;</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="137116754011202" type="M7_ThermostatSignal">
                                                                    <param id="0" name="Instance variable">flag</param>
                                                                    <param id="1" name="Value">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <comment>End Tutorial</comment>
                                                <event-block sid="942332825501177">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="990933727866948" type="System" />
                                                        <condition id="-14" name="Compare variable" sid="307327635711791" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Comparison">5</param>
                                                            <param id="2" name="Value">6</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-9" name="Set value" sid="184557695379512" type="System">
                                                            <param id="0" name="Variable">M7_Game_State</param>
                                                            <param id="1" name="Value">&quot;Game&quot;</param>
                                                        </action>
                                                        <action id="-4" name="Set layer visible" sid="551941372684423" type="System">
                                                            <param id="0" name="Layer">&quot;Tutorial&quot;</param>
                                                            <param id="1" name="Visibility">0</param>
                                                        </action>
                                                        <action id="-9" name="Set value" sid="384210738925617" type="System">
                                                            <param id="0" name="Variable">M7_Tutorial_Progress</param>
                                                            <param id="1" name="Value">0</param>
                                                        </action>
                                                        <action id="4" name="Set animation" sid="274756978870988" type="M7_End_Star2">
                                                            <param id="0" name="Animation">&quot;Full&quot;</param>
                                                            <param id="1" name="From">1</param>
                                                        </action>
                                                        <action id="0" name="Call function" sid="608555328835178" type="Function">
                                                            <param id="0" name="Name">&quot;M7 Reset Values&quot;</param>
                                                            <param id="1" name="Parameter {n}"></param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="615369672928270" title="M7 Player Interactions">
            <sub-events>
                <event-block sid="666946093969361">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="535617559326310" type="System">
                            <param id="0" name="Variable">M7_Game_State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Game&quot;</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="240974939977055" type="System">
                            <param id="0" name="Variable">M7_Temp_State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;normal&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-group description="" sid="527238678445700" title="M7 Window Controller">
                            <sub-events>
                                <comment>Player opening and closing the window</comment>
                                <event-block sid="807449586543315">
                                    <conditions>
                                        <condition id="17" name="On tap object" sid="806134458735335" type="Touch">
                                            <param id="0" name="Object">M7_Window</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="206041983858624" type="Function">
                                            <param id="0" name="Name">&quot;M7 Windows Open Close&quot;</param>
                                            <param id="1" name="Parameter {n}">M7_Window.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="545667328686850" title="M7 Door Controller">
                            <sub-events>
                                <event-block sid="847028597215671">
                                    <conditions>
                                        <condition id="17" name="On tap object" sid="948535004466842" type="Touch">
                                            <param id="0" name="Object">M7_Door</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="416313063805042" type="Function">
                                            <param id="0" name="Name">&quot;M7 Door Open Close&quot;</param>
                                            <param id="1" name="Parameter {n}">M7_Door.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="221648568052963" title="M7 Temperature Calculations">
            <sub-events>
                <comment>Changes in Room temperature due to different factors</comment>
                <event-block sid="816289123847404">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="803366216145937" type="System">
                            <param id="0" name="Variable">M7_Game_State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Game&quot;</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="343599951124123" type="System">
                            <param id="0" name="Variable">M7_Temp_State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;normal&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-group description="" sid="911608263032701" title="M7 Change By Extra">
                            <sub-events>
                                <event-block sid="941893856809144">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="354355574403700" type="System">
                                            <param id="0" name="Object">M7_Room</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="418942861382075" type="M7_Room">
                                            <param id="0" name="Instance variable">Temperature</param>
                                            <param id="1" name="Value">Self.Temperature + Self.ExtraHeatPerSecond * dt</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="950534424390963" title="M7 Change By Stove">
                            <sub-events>
                                <variable constant="1" name="M7_STOVE_CHANGE_PER_SEC" sid="284703578704714" static="0" type="number">0.4</variable>
                                <event-block sid="321152804624826">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="772310143107606" type="System">
                                            <param id="0" name="Object">M7_Room</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="967962416989534" type="M7_Room">
                                            <param id="0" name="Instance variable">StoveCount</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="772247453399704">
                                            <conditions>
                                                <condition id="-11" name="For Each" sid="601868267772461" type="System">
                                                    <param id="0" name="Object">M7_Person</param>
                                                </condition>
                                                <condition id="-7" name="Compare instance variable" sid="464208081281596" type="M7_Person">
                                                    <param id="0" name="Instance variable">ChosenRoom</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">M7_Room.UID</param>
                                                </condition>
                                                <condition id="-7" name="Compare instance variable" sid="901276234118738" type="M7_Person">
                                                    <param id="0" name="Instance variable">State</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;waiting&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="946004262290864" type="M7_Room">
                                                    <param id="0" name="Instance variable">Temperature</param>
                                                    <param id="1" name="Value">Self.Temperature + M7_STOVE_CHANGE_PER_SEC * dt</param>
                                                </action>
                                                <action id="-24" name="Stop loop" sid="523088542075511" type="System" />
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="551481265412711" title="M7 Change by Window">
                            <sub-events>
                                <variable constant="1" name="M7_WINDOW_OPEN_CHANGE_PER_SECOND" sid="514014624442509" static="0" type="number">-0.4</variable>
                                <variable constant="1" name="M7_WINDOW_OPEN_SUN_CHANGE_PER_SECOND" sid="537559780219987" static="0" type="number">0.6</variable>
                                <variable constant="1" name="M7_WINDOW_CLOSED_CHANGE_PER_SECOND" sid="846584333438592" static="0" type="number">-0.15</variable>
                                <event-block sid="265577437313055">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="705410230683167" type="System">
                                            <param id="0" name="Object">M7_Room</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="786800773207660" type="M7_Room">
                                            <param id="0" name="Instance variable">Windows</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">&quot;&quot;</param>
                                        </condition>
                                        <condition id="-10" name="For" sid="640469078687657" type="System">
                                            <param id="0" name="Name">&quot;Every Window of Room&quot;</param>
                                            <param id="1" name="Start index">0</param>
                                            <param id="2" name="End index">tokencount(M7_Room.Windows,&quot; &quot;)</param>
                                        </condition>
                                        <condition id="-14" name="Pick by unique ID" sid="571582659804088" type="M7_Window">
                                            <param id="0" name="Unique ID">int(tokenat(M7_Room.Windows, loopindex(&quot;Every Window of Room&quot;), &quot; &quot;))</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="911575341208920">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="413464958062311" type="M7_Window">
                                                    <param id="0" name="Instance variable">Open</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="640415768753072" type="M7_Room">
                                                    <param id="0" name="Instance variable">Temperature</param>
                                                    <param id="1" name="Value">Self.Temperature + (M7_Window.HasSun = 1 ?  M7_WINDOW_OPEN_SUN_CHANGE_PER_SECOND:M7_WINDOW_OPEN_CHANGE_PER_SECOND ) * dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="305237774228266">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="805657221517566" type="M7_Window">
                                                    <param id="0" name="Instance variable">Open</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="454301520868714" type="M7_Room">
                                                    <param id="0" name="Instance variable">Temperature</param>
                                                    <param id="1" name="Value">Self.Temperature + M7_WINDOW_CLOSED_CHANGE_PER_SECOND * dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="403950509424355" title="M7 Change By Neighbours">
                            <sub-events>
                                <variable constant="1" name="M7_DOOR_OPEN_PERCENT_PER_SECOND" sid="718612546590700" static="0" type="number">0.3</variable>
                                <variable constant="1" name="M7_DOOR_CLOSED_PERCENT_PER_SECOND" sid="256921152753428" static="0" type="number">0.1</variable>
                                <variable constant="0" name="M7_Temp_Room_0" sid="834522587221392" static="0" type="number">0</variable>
                                <variable constant="0" name="M7_Temp_Room_1" sid="983112934350306" static="0" type="number">0</variable>
                                <event-block sid="283054556915212">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="802012973618704" type="System">
                                            <param id="0" name="Object">M7_Door</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="889115578934103">
                                            <conditions>
                                                <condition id="-14" name="Pick by unique ID" sid="705767099783379" type="M7_Room">
                                                    <param id="0" name="Unique ID">int(tokenat(M7_Door.Rooms, 0, &quot; &quot;))</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="597256256552467" type="System">
                                                    <param id="0" name="Variable">M7_Temp_Room_0</param>
                                                    <param id="1" name="Value">M7_Room.OldTemperature</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="770369778551813">
                                            <conditions>
                                                <condition id="-14" name="Pick by unique ID" sid="489259064724051" type="M7_Room">
                                                    <param id="0" name="Unique ID">int(tokenat(M7_Door.Rooms, 1, &quot; &quot;))</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="471832231702771" type="System">
                                                    <param id="0" name="Variable">M7_Temp_Room_1</param>
                                                    <param id="1" name="Value">M7_Room.OldTemperature</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <variable constant="0" name="M7_Temp_Difference" sid="328265596384338" static="0" type="number">0</variable>
                                        <event-block sid="752954529725364">
                                            <conditions />
                                            <actions>
                                                <action id="-9" name="Set value" sid="737940453529347" type="System">
                                                    <param id="0" name="Variable">M7_Temp_Difference</param>
                                                    <param id="1" name="Value">M7_Temp_Room_1 - M7_Temp_Room_0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="930202370897642">
                                            <conditions>
                                                <condition id="-14" name="Pick by unique ID" sid="592500544285318" type="M7_Room">
                                                    <param id="0" name="Unique ID">int(tokenat(M7_Door.Rooms, 0, &quot; &quot;))</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="390928380977685" type="M7_Room">
                                                    <param id="0" name="Instance variable">Temperature</param>
                                                    <param id="1" name="Value">Self.Temperature + (M7_Door.Open ? M7_DOOR_OPEN_PERCENT_PER_SECOND : M7_DOOR_CLOSED_PERCENT_PER_SECOND) * M7_Temp_Difference * dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="514220891418712">
                                            <conditions>
                                                <condition id="-14" name="Pick by unique ID" sid="867614749931597" type="M7_Room">
                                                    <param id="0" name="Unique ID">int(tokenat(M7_Door.Rooms, 1, &quot; &quot;))</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="500269771559989" type="M7_Room">
                                                    <param id="0" name="Instance variable">Temperature</param>
                                                    <param id="1" name="Value">Self.Temperature - (M7_Door.Open ? M7_DOOR_OPEN_PERCENT_PER_SECOND : M7_DOOR_CLOSED_PERCENT_PER_SECOND) * M7_Temp_Difference * dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="196475243615891" title="M7 Change By Ambience">
                            <sub-events>
                                <variable constant="1" name="M7_AMBIENT_CHANGE_PER_SECOND" sid="846190021904372" static="0" type="number">-0.15</variable>
                                <event-block sid="985935294887746">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="894614383366263" type="System">
                                            <param id="0" name="Object">M7_Room</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="621368304720562" type="M7_Room">
                                            <param id="0" name="Instance variable">Temperature</param>
                                            <param id="1" name="Value">Self.Temperature + M7_AMBIENT_CHANGE_PER_SECOND * dt</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                    </sub-events>
                </event-block>
                <event-group description="" sid="710938550841922" title="M7 Update Room">
                    <sub-events>
                        <variable constant="1" name="M7_OPACITYMAX" sid="445236862712544" static="0" type="number">30</variable>
                        <event-block sid="762001667074124">
                            <conditions>
                                <condition id="-11" name="For Each" sid="211690632253589" type="System">
                                    <param id="0" name="Object">M7_Room</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="639866427789573" type="M7_Room">
                                    <param id="0" name="Instance variable">Temperature</param>
                                    <param id="1" name="Value">max(min(Self.Temperature, 1), -1)</param>
                                </action>
                                <action id="-10" name="Set value" sid="122534558232634" type="M7_Room">
                                    <param id="0" name="Instance variable">OldTemperature</param>
                                    <param id="1" name="Value">Self.Temperature</param>
                                </action>
                                <action id="-6" name="Set height" sid="545481288983254" type="M7_Room">
                                    <param id="0" name="Height">max(min((Self.Temperature - 1) * -0.5 * Self.Maxheight, Self.Maxheight),0)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="144292537925454">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="897755281047616" type="M7_Room">
                                            <param id="0" name="Instance variable">Temperature</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">-1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="331377735422771" type="M7_Room">
                                            <param id="0" name="Animation">&quot;Freezing&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="164330502394163">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="500531408215790" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="191252309194701" type="M7_Room">
                                            <param id="0" name="Animation">&quot;Default&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="477988417948673" title="M7 Person">
            <sub-events>
                <event-block sid="381199812463784">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="802572084657374" type="System">
                            <param id="0" name="Variable">M7_Game_State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Game&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-group description="" sid="444692670807075" title="M7 Person Update">
                            <sub-events>
                                <event-block sid="992596853623321">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="138587533823919" type="System">
                                            <param id="0" name="Object">M7_Person</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="336021872179128">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="120223814381876" type="M7_Person">
                                                    <param id="0" name="Instance variable">State</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;waiting&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Pick by unique ID" sid="191094425248106" type="M7_Person">
                                                    <param id="0" name="Unique ID">M7_Person.UID</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="590649684976288">
                                                    <conditions>
                                                        <condition id="-7" name="Compare instance variable" sid="811467062452882" type="M7_Person">
                                                            <param id="0" name="Instance variable">WaitingTimer</param>
                                                            <param id="1" name="Comparison">4</param>
                                                            <param id="2" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Set value" sid="397469028218230" type="M7_Person">
                                                            <param id="0" name="Instance variable">WaitingTimer</param>
                                                            <param id="1" name="Value">M7_Person.WaitingTimer - dt</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <comment>Determine Next Action</comment>
                                                <event-block sid="374070843056974">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="392516550210689" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Call function" sid="181801980070952" type="Function">
                                                            <param id="0" name="Name">&quot;M7 Person Select Next State&quot;</param>
                                                            <param id="1" name="Parameter {n}">M7_Person.UID</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="208338797312512">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="860086032869105" type="M7_Person">
                                                    <param id="0" name="Instance variable">State</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;moving&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Pick by unique ID" sid="187701257730905" type="M7_Person">
                                                    <param id="0" name="Unique ID">M7_Person.UID</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <comment>Reached Destination</comment>
                                                <event-block sid="998483929997504">
                                                    <conditions>
                                                        <condition id="-14" name="Pick by unique ID" sid="844706217003891" type="M7_Room">
                                                            <param id="0" name="Unique ID">M7_Person.ChosenRoom</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="214189201587763">
                                                            <conditions>
                                                                <condition id="-39" name="Is within angle" sid="245723705499204" type="System">
                                                                    <param id="0" name="Angle 1">angle(M7_Person.X, M7_Person.Y, M7_Room.X, M7_Room.Y)</param>
                                                                    <param id="1" name="Within">45</param>
                                                                    <param id="2" name="Angle 2">M7_Person.MovementAngle</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions />
                                                        </event-block>
                                                        <event-block sid="533210332336858">
                                                            <conditions>
                                                                <condition id="-22" name="Else" sid="573481691074008" type="System" />
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="444626252001873" type="M7_Person">
                                                                    <param id="0" name="X">M7_Room.X</param>
                                                                    <param id="1" name="Y">M7_Room.Y</param>
                                                                </action>
                                                                <action id="0" name="Call function" sid="561289083490309" type="Function">
                                                                    <param id="0" name="Name">&quot;M7 Person Select Next State&quot;</param>
                                                                    <param id="1" name="Parameter {n}">M7_Person.UID</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <comment>Randomly Determine Next Action</comment>
                                <event-block sid="186799551660957">
                                    <conditions>
                                        <condition id="0" name="On function" sid="862728617815642" type="Function">
                                            <param id="0" name="Name">&quot;M7 Person Select Next State&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Pick by unique ID" sid="226069610137845" type="M7_Person">
                                            <param id="0" name="Unique ID">Function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <variable constant="1" name="M7_WAITTIMEMIN" sid="613549810525179" static="0" type="number">1</variable>
                                        <variable constant="1" name="M7_WAITTIMEMAX" sid="426087903147023" static="0" type="number">5</variable>
                                        <variable constant="0" name="M7_PathfindingResult" sid="159745861010634" static="0" type="number">0</variable>
                                        <comment>Choose State &quot;wait&quot;</comment>
                                        <event-block sid="883936257607422">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="578717455060691" type="System">
                                                    <param id="0" name="First value">choose(0,1)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="271121073450955" type="M7_Person">
                                                    <param id="0" name="Instance variable">State</param>
                                                    <param id="1" name="Value">&quot;waiting&quot;</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="480034802995934" type="M7_Person">
                                                    <param id="0" name="Instance variable">WaitingTimer</param>
                                                    <param id="1" name="Value">floor(random(M7_WAITTIMEMIN, M7_WAITTIMEMAX))</param>
                                                </action>
                                                <action behavior="CustomMovement" id="2" name="Set speed" sid="517012467587597" type="M7_Person">
                                                    <param id="0" name="Which">0</param>
                                                    <param id="1" name="Speed">0</param>
                                                </action>
                                                <action id="4" name="Set animation" sid="786215137692467" type="M7_Person">
                                                    <param id="0" name="Animation">&quot;idle&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment>Choose State &quot;moving&quot;</comment>
                                        <event-block sid="763834153155574">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="508506810105473" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="290334859214283" type="M7_Person">
                                                    <param id="0" name="Instance variable">State</param>
                                                    <param id="1" name="Value">&quot;moving&quot;</param>
                                                </action>
                                                <action id="0" name="Call function" sid="890305022044891" type="Function">
                                                    <param id="0" name="Name">&quot;M7 Generate Path&quot;</param>
                                                    <param id="1" name="Parameter {n}">M7_Person.ChosenRoom{###}M7_Person.PreviousRoom</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="338739071057528" type="System">
                                                    <param id="0" name="Variable">M7_PathfindingResult</param>
                                                    <param id="1" name="Value">Function.ReturnValue</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="816077364387251" type="M7_Person">
                                                    <param id="0" name="Instance variable">PreviousRoom</param>
                                                    <param id="1" name="Value">M7_Person.ChosenRoom</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <comment>If Dead End</comment>
                                                <event-block sid="442489189099247">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="501842653188751" type="System">
                                                            <param id="0" name="Variable">M7_PathfindingResult</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">-1</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Set value" sid="150865044490297" type="M7_Person">
                                                            <param id="0" name="Instance variable">State</param>
                                                            <param id="1" name="Value">&quot;waiting&quot;</param>
                                                        </action>
                                                        <action id="-10" name="Set value" sid="680944514495134" type="M7_Person">
                                                            <param id="0" name="Instance variable">WaitingTimer</param>
                                                            <param id="1" name="Value">floor(random(M7_WAITTIMEMIN, M7_WAITTIMEMAX))</param>
                                                        </action>
                                                        <action behavior="CustomMovement" id="2" name="Set speed" sid="189113331255401" type="M7_Person">
                                                            <param id="0" name="Which">0</param>
                                                            <param id="1" name="Speed">0</param>
                                                        </action>
                                                        <action id="4" name="Set animation" sid="230862523123140" type="M7_Person">
                                                            <param id="0" name="Animation">&quot;idle&quot;</param>
                                                            <param id="1" name="From">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <comment>If not dead end, set path to new room</comment>
                                                <event-block sid="564717244208916">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="940057136256202" type="System" />
                                                        <condition id="-14" name="Pick by unique ID" sid="886678181754419" type="M7_Room">
                                                            <param id="0" name="Unique ID">M7_PathfindingResult</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Set value" sid="819282974575447" type="M7_Person">
                                                            <param id="0" name="Instance variable">ChosenRoom</param>
                                                            <param id="1" name="Value">M7_PathfindingResult</param>
                                                        </action>
                                                        <action id="-10" name="Set value" sid="574174858528248" type="M7_Person">
                                                            <param id="0" name="Instance variable">MovementAngle</param>
                                                            <param id="1" name="Value">angle(M7_Person.X, M7_Person.Y, M7_Room.X, M7_Room.Y)</param>
                                                        </action>
                                                        <action behavior="CustomMovement" id="2" name="Set speed" sid="462105046730464" type="M7_Person">
                                                            <param id="0" name="Which">1</param>
                                                            <param id="1" name="Speed">M7_Person.Speed * cos(M7_Person.MovementAngle)</param>
                                                        </action>
                                                        <action behavior="CustomMovement" id="2" name="Set speed" sid="163768502310696" type="M7_Person">
                                                            <param id="0" name="Which">2</param>
                                                            <param id="1" name="Speed">M7_Person.Speed * sin(M7_Person.MovementAngle)</param>
                                                        </action>
                                                        <action id="4" name="Set animation" sid="730698008629942" type="M7_Person">
                                                            <param id="0" name="Animation">Self.CustomMovement.dx &gt; 0 ? &quot;walking_r&quot; : &quot;walking_l&quot; </param>
                                                            <param id="1" name="From">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="917615544399952" title="M7 Person Pathfinding">
                            <sub-events>
                                <variable constant="0" name="M7_PreviousRoom" sid="779199900776871" static="0" type="number">-1</variable>
                                <variable constant="0" name="M7_ChosenRoom" sid="270822681677396" static="0" type="number">-1</variable>
                                <variable constant="0" name="M7_TempIndex" sid="520575937611103" static="0" type="number">0</variable>
                                <variable constant="0" name="M7_Destination" sid="924721281698815" static="0" type="text"></variable>
                                <event-block sid="829543956718511">
                                    <conditions>
                                        <condition id="0" name="On function" sid="284524971819460" type="Function">
                                            <param id="0" name="Name">&quot;M7 Generate Path&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Pick by unique ID" sid="989916811148078" type="M7_Room">
                                            <param id="0" name="Unique ID">Function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="269290658189094" type="System">
                                            <param id="0" name="Variable">M7_ChosenRoom</param>
                                            <param id="1" name="Value">Function.Param(0)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="499444474329027" type="System">
                                            <param id="0" name="Variable">M7_PreviousRoom</param>
                                            <param id="1" name="Value">Function.Param(1)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="935744398487189" type="System">
                                            <param id="0" name="Variable">M7_Destination</param>
                                            <param id="1" name="Value">M7_Room.Neighbours</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="374021681513432" type="System">
                                            <param id="0" name="Variable">M7_Destination</param>
                                            <param id="1" name="Value">replace(M7_Destination, &quot; &quot; &amp; str(M7_PreviousRoom), &quot;&quot;)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="759081268066661" type="System">
                                            <param id="0" name="Variable">M7_Destination</param>
                                            <param id="1" name="Value">replace(M7_Destination, str(M7_PreviousRoom), &quot;&quot;)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="540530700623127" type="System">
                                            <param id="0" name="Variable">M7_Destination</param>
                                            <param id="1" name="Value">trim(M7_Destination)</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="230507823209844">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="369699700540553" type="System">
                                                    <param id="0" name="Variable">M7_Destination</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="1" name="Set return value" sid="578413108229931" type="Function">
                                                    <param id="0" name="Value">-1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="666923171719823">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="254188515691240" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="546377288087668" type="System">
                                                    <param id="0" name="Variable">M7_TempIndex</param>
                                                    <param id="1" name="Value">tokencount(M7_Destination, &quot; &quot;)</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="641386603521397" type="System">
                                                    <param id="0" name="Variable">M7_TempIndex</param>
                                                    <param id="1" name="Value">floor(random(0, M7_TempIndex))</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="895882997036051" type="System">
                                                    <param id="0" name="Variable">M7_Destination</param>
                                                    <param id="1" name="Value">tokenat(M7_Destination, M7_TempIndex, &quot; &quot;)</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="701809167201610" type="Function">
                                                    <param id="0" name="Value">int(M7_Destination)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="315475360373171" title="M7 Weather">
            <sub-events>
                <event-block sid="484515278798965">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="802555322078777" type="System">
                            <param id="0" name="Variable">M7_Game_State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Game&quot;</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="587374495764155" type="System">
                            <param id="0" name="Variable">M7_Temp_State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;normal&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-group description="" sid="719881483858892" title="M7 Window Weather Change">
                            <sub-events>
                                <variable constant="0" name="M7_WEATHER_TIMER" sid="327398641133680" static="1" type="number">-1</variable>
                                <variable comment="15" constant="1" name="M7_WEATHER_TIMER_RANGE_MIN" sid="670248373641698" static="0" type="number">5</variable>
                                <variable constant="1" name="M7_WEATHER_TIMER_RANGE_MAX" sid="525723658500700" static="0" type="number">15</variable>
                                <event-block sid="329648196712007">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="475607954800366" type="System">
                                            <param id="0" name="Variable">M7_WEATHER_TIMER</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="438756335912574" type="System">
                                            <param id="0" name="Variable">M7_WEATHER_TIMER</param>
                                            <param id="1" name="Value">random(M7_WEATHER_TIMER_RANGE_MIN, M7_WEATHER_TIMER_RANGE_MAX)</param>
                                        </action>
                                        <action id="0" name="Call function" sid="287936430678350" type="Function">
                                            <param id="0" name="Name">&quot;M7 Windows Weather Change&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="326668289088732">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="189027949407409" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="309246071976626" type="System">
                                            <param id="0" name="Variable">M7_WEATHER_TIMER</param>
                                            <param id="1" name="Value">M7_WEATHER_TIMER - dt</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="807368219761773" title="M7 Doors">
            <sub-events>
                <event-block sid="322695056185697">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="683493606401548" type="M7_Door">
                            <param id="0" name="Object">M7_Person</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="735733922301439" type="M7_Door">
                            <param id="0" name="Instance variable">Open</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="974286613039946" type="Function">
                            <param id="0" name="Name">&quot;M7 Door Open Close&quot;</param>
                            <param id="1" name="Parameter {n}">M7_Door.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="581390109348251">
                    <conditions>
                        <condition id="0" name="On function" sid="323550708171734" type="Function">
                            <param id="0" name="Name">&quot;M7 Door Open Close&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="742654743637509" type="M7_Door">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="791818562794072">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="937625194664802" type="M7_Door">
                                    <param id="0" name="Object">M7_Person</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="960804936897152" type="M7_Person">
                                    <param id="0" name="Instance variable">State</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">&quot;waiting&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="895431163356363" type="M7_Door">
                                    <param id="0" name="Instance variable">Open</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="523236781330321">
                            <conditions>
                                <condition id="-22" name="Else" sid="466296388662160" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="386299334267273" type="M7_Door">
                                    <param id="0" name="Instance variable">Open</param>
                                    <param id="1" name="Value">Self.Open = 0 ? 1 : 0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="282043381175516">
                            <conditions />
                            <actions>
                                <action id="4" name="Set animation" sid="954334525393956" type="M7_Door">
                                    <param id="0" name="Animation">Self.Open = 0 ? &quot;Closed&quot; : &quot;Open&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="0" name="Play" sid="449533076914895" type="Audio">
                                    <param id="0" name="Audio file">sfx_door_open</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">40</param>
                                    <param id="1" name="Tag (optional)">&quot;&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="738834676704138" title="M7 Windows">
            <sub-events>
                <comment>When the weather changes from sun to cloudy, or vice versa</comment>
                <event-block sid="810942485415248">
                    <conditions>
                        <condition id="0" name="On function" sid="975222828943448" type="Function">
                            <param id="0" name="Name">&quot;M7 Windows Weather Change&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="805300159564112" type="M7_Weather">
                            <param id="0" name="Instance variable">HasSun</param>
                            <param id="1" name="Value">Self.HasSun = 0 ? 1 :0</param>
                        </action>
                        <action id="4" name="Set animation" sid="201343786877239" type="M7_Weather">
                            <param id="0" name="Animation">Self.HasSun = 1 ? &quot;Sun&quot; : &quot;Cloud&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="781511930285781">
                            <conditions>
                                <condition id="-11" name="For Each" sid="160953602820996" type="System">
                                    <param id="0" name="Object">M7_Window</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="600394458402020" type="M7_Window">
                                    <param id="0" name="Instance variable">HasSun</param>
                                    <param id="1" name="Value">Self.WeatherInfluence = 1 ? (Self.HasSun = 0 ? 1: 0) : 0</param>
                                </action>
                                <action id="4" name="Set animation" sid="373316761727733" type="M7_Window">
                                    <param id="0" name="Animation">Self.Open = 0 ? (Self.HasSun = 0 ? &quot;Closed&quot; : &quot;ClosedSun&quot;) : (Self.HasSun = 0 ? &quot;Open&quot; : &quot;OpenSun&quot;)</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>When the window is opened or closed</comment>
                <event-block sid="162689488002703">
                    <conditions>
                        <condition id="0" name="On function" sid="934174218069176" type="Function">
                            <param id="0" name="Name">&quot;M7 Windows Open Close&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="751831941282574" type="M7_Window">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Play" sid="974375757087134" type="Audio">
                            <param id="0" name="Audio file">sfx_blinds_open</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">70</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="-10" name="Set value" sid="523197785424595" type="M7_Window">
                            <param id="0" name="Instance variable">Open</param>
                            <param id="1" name="Value">Self.Open = 0 ? 1 : 0</param>
                        </action>
                        <action id="4" name="Set animation" sid="517546079983928" type="M7_Window">
                            <param id="0" name="Animation">Self.Open = 0 ? (Self.HasSun = 0 ? &quot;Closed&quot; : &quot;ClosedSun&quot;) : (Self.HasSun = 0 ? &quot;Open&quot; : &quot;OpenSun&quot;)</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="946686085442525" title="M7 Vents">
            <sub-events>
                <variable constant="0" name="M7_Vents_Volume" sid="422456055032514" static="1" type="number">0</variable>
                <variable constant="0" name="M7_Vents_State" sid="648398835378008" static="1" type="number">0</variable>
                <event-block sid="205626621952397">
                    <conditions>
                        <condition id="0" name="On function" sid="842720531289887" type="Function">
                            <param id="0" name="Name">&quot;M7 Vents Initialize&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="479806726067474" type="System">
                            <param id="0" name="Variable">M7_Vents_State</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="169621676078433" type="M7_Vent">
                            <param id="0" name="Animation">M7_Vents_State &amp; &quot;C&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="-9" name="Set value" sid="236901972998285" type="System">
                            <param id="0" name="Variable">M7_Vents_Volume</param>
                            <param id="1" name="Value">-40</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="977938572853676">
                    <conditions>
                        <condition id="0" name="On function" sid="829614397891265" type="Function">
                            <param id="0" name="Name">&quot;M7 Vents Increment Temp&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="384350584822787" type="System">
                            <param id="0" name="Variable">M7_Vents_State</param>
                            <param id="1" name="Value">M7_Vents_State + 1</param>
                        </action>
                        <action id="4" name="Set animation" sid="744985673634028" type="M7_Vent">
                            <param id="0" name="Animation">M7_Vents_State &amp; &quot;C&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="0" name="Play" sid="839546312100929" type="Audio">
                            <param id="0" name="Audio file">sfx_AC</param>
                            <param id="2" name="Loop">1</param>
                            <param id="3" name="Volume">M7_Vents_Volume</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="-9" name="Set value" sid="475855930500725" type="System">
                            <param id="0" name="Variable">M7_Vents_Volume</param>
                            <param id="1" name="Value">M7_Vents_Volume + 10</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="662058481164618" title="M7 Thermostat and Scoring">
            <sub-events>
                <event-block sid="258961365341296">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="948431313756322" type="System">
                            <param id="0" name="Variable">M7_Game_State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Game&quot;</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="897024028620533" type="System">
                            <param id="0" name="Variable">M7_Temp_State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;normal&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-group description="" sid="995870902724340" title="M7 Check Temperature of Each Person">
                            <sub-events>
                                <comment>Automatically end game if thermostat set too high</comment>
                                <event-block sid="325556591649805">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="811471555490517" type="System">
                                            <param id="0" name="Variable">M7_Temperature</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">21</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="602623621307514" type="System">
                                            <param id="0" name="Variable">GG_Difficulty</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="802824012534428" type="Function">
                                            <param id="0" name="Name">&quot;M7 End Game&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment>If the person is in a room under -1 degrees, increase the thermostat</comment>
                                <event-block sid="402309143097592">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="150154395163864" type="System">
                                            <param id="0" name="Object">M7_Person</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="673514110053111" type="M7_Person">
                                            <param id="0" name="Instance variable">State</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;waiting&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="908338969733002" type="System">
                                            <param id="0" name="Variable">M7_Temp_State</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">&quot;increasing&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="677068586314177">
                                            <conditions>
                                                <condition id="-14" name="Pick by unique ID" sid="168577282191202" type="M7_Room">
                                                    <param id="0" name="Unique ID">M7_Person.ChosenRoom</param>
                                                </condition>
                                                <condition id="-7" name="Compare instance variable" sid="210380871140486" type="M7_Room">
                                                    <param id="0" name="Instance variable">Temperature</param>
                                                    <param id="1" name="Comparison">3</param>
                                                    <param id="2" name="Value">-1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="826153663224879" type="Function">
                                                    <param id="0" name="Name">&quot;M7 Increase Temperature&quot;</param>
                                                    <param id="1" name="Parameter {n}">M7_Person.UID</param>
                                                </action>
                                                <action id="4" name="Set animation" sid="785344754253392" type="M7_Person">
                                                    <param id="0" name="Animation">&quot;adjusting_temp&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="347444384907762" title="M7 Timer Update and Check">
                            <sub-events>
                                <event-block sid="529675720856947">
                                    <conditions />
                                    <actions>
                                        <action id="-10" name="Set value" sid="436107467428070" type="M7_Timer_Bar">
                                            <param id="0" name="Instance variable">TimeLeft</param>
                                            <param id="1" name="Value">Self.TimeLeft - dt</param>
                                        </action>
                                        <action id="-5" name="Set width" sid="924698446128993" type="M7_Timer_Bar">
                                            <param id="0" name="Width">Self.MaxWidth * (Self.TimeLeft/M7_TIME_LIMIT)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="116472395249262">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="976846484032756" type="M7_Timer_Bar">
                                            <param id="0" name="Instance variable">TimeLeft</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="511859320047968">
                                            <conditions>
                                                <condition id="-11" name="For Each" sid="762785012462777" type="System">
                                                    <param id="0" name="Object">M7_Person</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="CustomMovement" id="0" name="Stop" sid="168300763088700" type="M7_Person" />
                                            </actions>
                                        </event-block>
                                        <event-block sid="430388409122702">
                                            <conditions />
                                            <actions>
                                                <action id="0" name="Call function" sid="122146336971463" type="Function">
                                                    <param id="0" name="Name">&quot;M7 End Game&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="114411065990414">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="400305279296292" type="M7_Timer_Bar">
                                            <param id="0" name="Instance variable">TimeLeft</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">6</param>
                                        </condition>
                                        <condition id="-6" name="Every X seconds" sid="716838440367419" type="System">
                                            <param id="0" name="Interval (seconds)">1.0</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="450167326260028" type="M7_Timer_Bar">
                                            <param id="0" name="Instance variable">TimeLeft</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="529235954246982" type="M7_Timer_Bar">
                                            <param id="0" name="Animation">&quot;Animation2&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="235763300587378" type="System">
                                            <param id="0" name="Seconds">0.5</param>
                                        </action>
                                        <action id="4" name="Set animation" sid="403215759400406" type="M7_Timer_Bar">
                                            <param id="0" name="Animation">&quot;Default&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="193259155332056">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="825487104676295" type="M7_Timer_Bar">
                                            <param id="0" name="Instance variable">TimeLeft</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">4</param>
                                        </condition>
                                        <condition id="-6" name="Every X seconds" sid="418300194780121" type="System">
                                            <param id="0" name="Interval (seconds)">1.0</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="128065560378177" type="M7_Timer_Bar">
                                            <param id="0" name="Instance variable">TimeLeft</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                </event-block>
                            </sub-events>
                        </event-group>
                    </sub-events>
                </event-block>
                <event-group description="" sid="525509832666268" title="M7 Temperature Increase Transition">
                    <sub-events>
                        <variable constant="0" name="M7_Transition_Person" sid="109118951293631" static="1" type="number">0</variable>
                        <variable constant="0" name="M7_Transition_Counter" sid="337390884750133" static="1" type="number">0</variable>
                        <variable constant="1" name="M7_TEMP_INCREASE_TRANSITION_RATE_DURATION" sid="316959003907820" static="0" type="number">1.2</variable>
                        <event-block sid="443482500143842">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="434084959282359" type="System">
                                    <param id="0" name="Variable">M7_Temp_State</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;increasing&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="409039412942034" type="System">
                                    <param id="0" name="Variable">M7_Transition_Counter</param>
                                    <param id="1" name="Value">M7_Transition_Counter + dt</param>
                                </action>
                            </actions>
                            <sub-events>
                                <comment>Transmission Animation</comment>
                                <event-group description="" sid="767252619172675" title="M7 Temperature Signal">
                                    <sub-events>
                                        <event-block sid="909757917792355">
                                            <conditions />
                                            <actions>
                                                <action id="-23" name="Move at angle" sid="242659914284735" type="M7_ThermostatSignal">
                                                    <param id="0" name="Angle">Self.Angle</param>
                                                    <param id="1" name="Distance">Self.distance * dt/ M7_TEMP_INCREASE_TRANSITION_RATE_DURATION</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-group>
                                <event-block sid="524241001756610">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="366930194239211" type="System">
                                            <param id="0" name="Object">M7_Room</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="768996190926243" type="M7_Room">
                                            <param id="0" name="Instance variable">Temperature</param>
                                            <param id="1" name="Value">Self.Temperature + dt/M7_TEMP_INCREASE_TRANSITION_RATE_DURATION</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="385327860563201" type="M7_Room">
                                            <param id="0" name="Instance variable">OldTemperature</param>
                                            <param id="1" name="Value">Self.Temperature</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="147606754086072">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="414325027797750" type="System">
                                            <param id="0" name="Variable">M7_Transition_Counter</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">M7_TEMP_INCREASE_TRANSITION_RATE_DURATION</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="912705971637280" type="System">
                                            <param id="0" name="Variable">M7_Temp_State</param>
                                            <param id="1" name="Value">&quot;normal&quot;</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="724615623768554" type="System">
                                            <param id="0" name="Variable">M7_Temperature</param>
                                            <param id="1" name="Value">M7_Temperature + 1</param>
                                        </action>
                                        <action id="0" name="Set text" sid="928828751629199" type="M7_TemperatureText">
                                            <param id="0" name="Text">M7_Temperature</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="690323471004773">
                                            <conditions>
                                                <condition id="-11" name="For Each" sid="481335964637196" type="System">
                                                    <param id="0" name="Object">M7_Person</param>
                                                </condition>
                                                <condition id="2" name="Is playing" sid="296808025410267" type="M7_Person">
                                                    <param id="0" name="Animation">&quot;adjusting_temp&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="4" name="Set animation" sid="329811077271774" type="M7_Person">
                                                    <param id="0" name="Animation">&quot;idle&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="653483146288884">
                                            <conditions />
                                            <actions>
                                                <action id="-3" name="Set position" sid="313586493204467" type="M7_ThermostatSignal">
                                                    <param id="0" name="X">-300</param>
                                                    <param id="1" name="Y">-300</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="108865656817553">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="642993030820630" type="System">
                                                    <param id="0" name="Variable">M7_Temperature</param>
                                                    <param id="1" name="Comparison">5</param>
                                                    <param id="2" name="Value">19</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="4" name="Set animation" sid="284732030273933" type="M7_End_Star2">
                                                    <param id="0" name="Animation">&quot;Empty&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="140306578887760">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="655600419753183" type="System">
                                                    <param id="0" name="Variable">M7_Temperature</param>
                                                    <param id="1" name="Comparison">5</param>
                                                    <param id="2" name="Value">20</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="4" name="Set animation" sid="235210553136852" type="M7_End_Star1">
                                                    <param id="0" name="Animation">&quot;Empty&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="586305999636366">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="912537345048093" type="System">
                                                    <param id="0" name="Variable">M7_Temperature</param>
                                                    <param id="1" name="Comparison">5</param>
                                                    <param id="2" name="Value">21</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="4" name="Set animation" sid="277978475558086" type="M7_End_Star0">
                                                    <param id="0" name="Animation">&quot;Empty&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="684736824979653">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="156523594936031" type="System">
                                                    <param id="0" name="Variable">M7_Temperature</param>
                                                    <param id="1" name="Comparison">3</param>
                                                    <param id="2" name="Value">19</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="450491957671933" type="System">
                                                    <param id="0" name="Variable">GG_Difficulty</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Destroy" sid="327149968693808" type="M7_End_Restart" />
                                                <action id="-1" name="Set X" sid="369983185484774" type="M7_End_Exit">
                                                    <param id="0" name="X">960</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>Trigger to start the increase temperature transition: function (person.UID)</comment>
                        <event-block sid="420202295369899">
                            <conditions>
                                <condition id="0" name="On function" sid="156104583109628" type="Function">
                                    <param id="0" name="Name">&quot;M7 Increase Temperature&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="543172657465527" type="Function">
                                    <param id="0" name="Name">&quot;M7 Vents Increment Temp&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="-9" name="Set value" sid="696457716376929" type="System">
                                    <param id="0" name="Variable">M7_Transition_Counter</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="123340659363168" type="System">
                                    <param id="0" name="Variable">M7_Temp_State</param>
                                    <param id="1" name="Value">&quot;increasing&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <comment>Start Themostat Signal Animation</comment>
                                <event-block sid="718256694231954">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="985373813440824" type="M7_Person">
                                            <param id="0" name="Unique ID">Function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="782547844434597" type="M7_ThermostatSignal">
                                            <param id="0" name="X">M7_Person.X</param>
                                            <param id="1" name="Y">M7_Person.Y - 100</param>
                                        </action>
                                        <action id="-8" name="Set angle" sid="418634893886742" type="M7_ThermostatSignal">
                                            <param id="0" name="Angle">angle(Self.X, Self.Y, M7_Thermostat.X, M7_Thermostat.Y)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="735112021182511" type="M7_ThermostatSignal">
                                            <param id="0" name="Instance variable">distance</param>
                                            <param id="1" name="Value">distance(Self.X, Self.Y, M7_Thermostat.X, M7_Thermostat.Y)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="459515281947133" title="M7 End">
            <sub-events>
                <event-block sid="457415082801501">
                    <conditions>
                        <condition id="0" name="On function" sid="550583772956118" type="Function">
                            <param id="0" name="Name">&quot;M7 End Game&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="845174894107429" type="System">
                            <param id="0" name="Variable">M7_Game_State</param>
                            <param id="1" name="Value">&quot;End&quot;</param>
                        </action>
                        <action id="33" name="Stop all" sid="294713831243994" type="Audio" />
                        <action id="-3" name="Set position" sid="258712963710826" type="M7_End_Star0">
                            <param id="0" name="X">660</param>
                            <param id="1" name="Y">360</param>
                        </action>
                        <action id="-7" name="Set size" sid="129475095438943" type="M7_End_Star0">
                            <param id="0" name="Width">250</param>
                            <param id="1" name="Height">250</param>
                        </action>
                        <action id="-3" name="Set position" sid="169363564932559" type="M7_End_Star1">
                            <param id="0" name="X">960</param>
                            <param id="1" name="Y">360</param>
                        </action>
                        <action id="-7" name="Set size" sid="943370706577140" type="M7_End_Star1">
                            <param id="0" name="Width">250</param>
                            <param id="1" name="Height">250</param>
                        </action>
                        <action id="-3" name="Set position" sid="252042952195041" type="M7_End_Star2">
                            <param id="0" name="X">1260</param>
                            <param id="1" name="Y">360</param>
                        </action>
                        <action id="-7" name="Set size" sid="614019875812629" type="M7_End_Star2">
                            <param id="0" name="Width">250</param>
                            <param id="1" name="Height">250</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>buttons</comment>
                        <event-block sid="822074226116816">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="833966704683916" type="System">
                                    <param id="0" name="Variable">M7_Temperature</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">19</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="450794368783009" type="System">
                                    <param id="0" name="Variable">GG_Difficulty</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="738576704573938" type="M7_End_Restart" />
                                <action id="-1" name="Set X" sid="616671831856440" type="M7_End_Exit">
                                    <param id="0" name="X">960</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-group description="" sid="418662239688992" title="M7 End Text Conditions">
                            <sub-events>
                                <event-block sid="217044739859882">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="760059600334303" type="System">
                                            <param id="0" name="Variable">GG_Difficulty</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Set text" sid="795743317393480" type="M7_End_Text">
                                            <param id="0" name="Text">&quot;Now keep the people warm in the other difficulties!&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="764935077132079">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="946211167969383" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="300080830344756">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="258283349793019" type="System">
                                                    <param id="0" name="Variable">M7_Temperature</param>
                                                    <param id="1" name="Comparison">3</param>
                                                    <param id="2" name="Value">18</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set text" sid="683572741437601" type="M7_End_Text">
                                                    <param id="0" name="Text">&quot;The people stayed warm without raising the temperature.&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="353995877072981">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="533078796837159" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Set text" sid="939741053915093" type="M7_End_Text">
                                                    <param id="0" name="Text">&quot;The people stayed warm, but had raised the temperature by &quot; &amp; (M7_Temperature - 18) &amp;&quot;degrees.&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-block sid="394673863991002">
                            <conditions />
                            <actions>
                                <action id="-4" name="Set layer visible" sid="327107053310323" type="System">
                                    <param id="0" name="Layer">&quot;EndGame&quot;</param>
                                    <param id="1" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-group description="" sid="295483706469824" title="M7 End Menu">
                    <sub-events>
                        <event-block sid="103885984259130">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="726836214429231" type="System">
                                    <param id="0" name="Variable">M7_Game_State</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;End&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="433802980956773">
                                    <conditions>
                                        <condition id="17" name="On tap object" sid="641288429265137" type="Touch">
                                            <param id="0" name="Object">M7_End_Exit</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-16" name="Wait" sid="381483924331399" type="System">
                                            <param id="0" name="Seconds">0.1</param>
                                        </action>
                                        <action id="0" name="Call function" sid="164119036121556" type="Function">
                                            <param id="0" name="Name">&quot;GG Exit Game&quot;</param>
                                            <param id="1" name="Parameter {n}">max(min((3 - (M7_Temperature - 18)), 3), 0)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="437359846102886">
                                    <conditions>
                                        <condition id="17" name="On tap object" sid="780638540284860" type="Touch">
                                            <param id="0" name="Object">M7_End_Restart</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-16" name="Wait" sid="763770534048453" type="System">
                                            <param id="0" name="Seconds">0.1</param>
                                        </action>
                                        <action id="-26" name="Restart layout" sid="683953705616247" type="System" />
                                    </actions>
                                </event-block>
                                <event-block sid="408893782623042">
                                    <conditions>
                                        <condition id="4" name="Is touching object" sid="592708006211697" type="Touch">
                                            <param id="0" name="Object">M7_End_Exit</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="287337756522060" type="M7_End_Exit">
                                            <param id="0" name="Animation">&quot;Down&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="291463253320938">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="422947203699256" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="907425683361279" type="M7_End_Exit">
                                            <param id="0" name="Animation">&quot;Up&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="763370408681602">
                                    <conditions>
                                        <condition id="4" name="Is touching object" sid="689234121060517" type="Touch">
                                            <param id="0" name="Object">M7_End_Restart</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="937177261220413" type="M7_End_Restart">
                                            <param id="0" name="Animation">&quot;Down&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="564898839903527">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="486932186908550" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="173216248548962" type="M7_End_Restart">
                                            <param id="0" name="Animation">&quot;Up&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
